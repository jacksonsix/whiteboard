<!doctype html>
<html>
<head>
  <title>WebSocket Chat Demo</title>
  <meta charset="utf-8">
  <link href="shared.css" rel="stylesheet">
  <script type="text/javascript" src="chatclient.js"></script>
  <script src="fakemachine.js"></script>
</head>
<body>
  <p>This is a simple chat system implemented using WebSockets. It works by sending packets of JSON back and forth with the server.</p>
  <p class="mdn-disclaimer">This text and audio/video chat example is offered as-is
    for demonstration purposes only, and should not be used for any other
    purpose.</p>
<div id="board">
  <canvas id="canvas"  width= 1200 height=300 style="border-style:dotted" ></canvas>
</div>
  <p>Enter a username: <input id="name" type="text" maxlength="12" placeholder="Your name">
  <input type="button" name="login" value="Log in" onclick="connect()"></p>
  <input type="button" name="load" value="load" onclick="load()">load</input>
  <table border="0" width="100%">
  <tr height="100%">
  <td width="120px" align="top" border="1" height="100%">
  <div id="userlistbox" style="border: 1px solid black; width:100%; height:100%;"></div>
  </td>
  <td>
  <iframe width="100%" height="400px" id="chatbox""></iframe>
  <tr>
  <td>&nbsp;</td>
  <td>
  <p>
  Chat: <input id="text" type="text" name="text" size="80" maxlength="256" placeholder="Chat with us!" autocomplete="off"onkeyup="handleKey(event)" disabled>
  <input type="button" id="send" name="send" value="Send" onclick="send()" disabled></p></td>
  </td>
  </tr>
  </table>
  <script src="canvasEventToMessage.js"> </script>
  <script>
	var myFunction = function(evt){
	//console.log(evt)
	//sendmouse(evt.type)
	}

	var myObj = document.getElementById('chatbox');
	for(var key in myObj){
		if(key.search('on') === 0) {
		   myObj.addEventListener(key.slice(2), myFunction)
		}
	}
  </script>
  
  <script>

	 
	// Keyboard events
	document.addEventListener('keydown', filterEventType, false);  // first
	document.addEventListener('keypress', filterEventType, false); // second
	document.addEventListener('keyup', filterEventType, false);    // third

	// Mouse events
	//document.addEventListener('mousedown', filterEventType, false); // first
	//document.addEventListener('mouseup', filterEventType, false);   // second
	//document.addEventListener('click', filterEventType, false);     // third
	//document.addEventListener('move',filterEventType,false)  // fourth mouse move
  </script>
</body>
</html>
